<%= provide(:title, "総勘定元帳(#{@param_account_title})") %>

<h2>総勘定元帳【<%= @param_account_title %>】</h2>

<div>
  <table class="table table-bordered table-condensed table-hover" id="table-account">
    <thead>
      <tr>
        <th rowspan="2">日付</th>
        <th>相手勘定科目</th>
        <th rowspan="2">税区分</th>
        <th rowspan="2">摘要</th>
        <th rowspan="2">借方金額</th>
        <th rowspan="2">貸方金額</th>
        <th rowspan="2">残高</th>
      </tr>
      <tr>
        <th>相手勘定税区分</th>
      </tr>
    </thead>
    <tbody>
      <% @general_ledger_accounts.each do |account| %>
        <tr>
          <td><%= l(account.accounting_date, format: :short) %></td>
          <!--<th>相手勘定科目</th>-->
          <td>
            <% account.compound_journals.each do |compound_journal| %>
              <% if compound_journal.account_title == @param_account_title %>
                <%= compound_journal.right_account_title %></br>
                <%= tax_rates(compound_journal.tax_rate) %>
              <% else %>
                <%= compound_journal.account_title %></br>
                <%= tax_rates(compound_journal.right_tax_rate) %>
              <% end %>
            <% end %>
          </td>
          <!--<th>税区分</th>-->
          <td>
            <% account.compound_journals.each do |compound_journal| %>
              <% if compound_journal.account_title == @param_account_title %>
                <%= tax_rates(compound_journal.tax_rate) %></br>
              <% else %>
                <%= tax_rates(compound_journal.right_tax_rate) %></br>
              <% end %>
            <% end %>
          </td>
          <!--<th>摘要</th>-->
          <td>
            <% account.compound_journals.each do |compound_journal| %>
              <%= compound_journal.description %></br>
            <% end %>
          </td>
          <!--<th>借方金額</th>-->
          <td>
            <% account.compound_journals.each do |compound_journal| %>
              <%= compound_journal.amount %></br>
            <% end %>
          </td>
          <!--<th>貸方金額</th>-->
          <td>
            <% account.compound_journals.each do |compound_journal| %>
              <%= compound_journal.right_amount %></br>
            <% end %>
          </td>
          <!--<th>残高</th>-->
          <td>
            <% account.compound_journals.each do |compound_journal| %>
              <%= compound_journal.right_amount %></br>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
      <tfoot>
        <tr class="bg-danger">
          <td colspan="7"></td>
        </tr>
      </tfoot>
  </table>
</div>
